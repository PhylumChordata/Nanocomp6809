ORG 7C00
DATA 7C00-7C0F 8
DATA 7C10-7C1F 8
LABEL 7C20 GETKEY
LABEL 7C26 GETKEY0
COMMENTLINE 7C26 Set up I/O port
LABEL 7C40 GETKEY1
COMMENTLINE 7C47 Found a key: decode it

LABEL 7C3B GETKEY2
LABEL 7C5B GETKEY3
LABEL 7C50 GETKEY4
LABEL 7C6D GETKEY5

COMMENTLINE 7C66 Wait for the key to be released
LABEL 7C6C GETKEY6
LABEL 7C7B DISPRESH
COMMENTLINE 7C7D Set output ports for display
LABEL 7CAA DISP1
COMMENTLINE 7C93 Initialise loop over digits
COMMENT 7C93 They are numbered 4..9 to correspond to outputs from the 7442 decoder.
LABEL 7C98 DISP2
COMMENTLINE 7C9D Finished
LABEL 7C9F DISP3
COMMENTLINE 7C9F Light up the next digit
COMMENTLINE 7CA8 Delay loop

LABEL 7CAF BADDR1
LABEL 7CB5 BADDR
COMMENTLINE 7CB5 Input 2 byte address into X; result also at [addr]

LABEL 7CCC HEXIN
COMMENTLINE 7CCC Input 2 hex digits into A and update display at X

LABEL 7CE7 HEXCON
COMMENTLINE 7CE7 Fall-thru
LABEL 7CEE HEXCON1
LABEL 7CE4 KEYHEX

LABEL 7CFF L7SEG
COMMENTLINE 7CFF Fall-thru

LABEL 7D03 R7SEG
COMMENTLINE 7D03 Convert low-order 4 bits of A to 7seg
LABEL 7D0A R71
LABEL 7D11 R72
LABEL 7D15 SVNHEX
COMMENTLINE 7D15 Convert 7seg to hex
LABEL 7D1D SVNHEX1
LABEL 7D21 toresume2
LABEL 7D26 SVNHEX2

LABEL 7D28 MEMDISP
COMMENTLINE 7D28 Prompt for address with 'M' and display memory contents
LABEL 7D31 MEM0
LABEL 7D3F MEM1
COMMENTLINE 7D3F Check for I key
LABEL 7D52 MEM2
COMMENTLINE 7D52 Store and increment

LABEL 7D89 RESET
COMMENTLINE 7D89 Reset Handler

LABEL 7D8D NMISR
COMMENTLINE 7D91 Set up NMI to point here

LABEL 7D97 RESUME
LABEL 7DDC CLEARDISP
COMMENTLINE 7DDC Clear display
LABEL 7DE4 CLEARDISP1
COMMENTLINE 7FF2 Interrupt vectors

LABEL 7FF2 SWI3INTR
LABEL 7FF4 SWI2INTR
LABEL 7FF6 FIRQINTR

LABEL 7FF8 INTRQ
LABEL 7FFA SWINTR
LABEL 7FFC NMINTR
LABEL 7FFE RESETBOOT

DATA 7FB1-7FCF

DATA 7FE9-7FF1
DATA 7FF2-7FF3
DATA 7FF4-7FF5
DATA 7FF6-7FF7
DATA 7FF8-7FF9
DATA 7FFA-7FFB
DATA 7FFC-7FFD
DATA 7FFE-7FFF
